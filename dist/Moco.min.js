require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=Array.prototype.slice,h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./Util"),j=d(i),k=a("./Easing"),l=d(k),m=a("./Timer"),n=d(m),o=function(){function a(){e(this,a)}return h(a,null,[{key:"to",value:function(a,b){var c,d=this;j.default.isType(b,"Object")&&d._addQueue({target:a,args:(c=d._init).call.apply(c,[d].concat(g.call(arguments)))})}},{key:"from",value:function(a,b){var c,d=this;if(j.default.isType(b,"Object")){for(var e in b)if(b.hasOwnProperty(e)&&"onComplete"!==e&&"onCompleteParam"!==e){var f=parseFloat(a[e]);a[e]=b[e],b[e]=f}arguments[1]=b,d._addQueue({target:a,args:(c=d._init).call.apply(c,[d].concat(g.call(arguments)))})}}},{key:"fromTo",value:function(a,b,c){var d,e=this;if(j.default.isType(c,"Object")&&j.default.isType(b,"Object")){for(var f in b)b.hasOwnProperty(f)&&"onComplete"!==f&&"onCompleteParam"!==f&&(a[f]=b[f]);Array.prototype.splice.call(arguments,1,1),e._addQueue({target:a,args:(d=e._init).call.apply(d,[e].concat(g.call(arguments)))})}}},{key:"remove",value:function(a){var b=j.default.inArray(a,this._animators,function(a,b){return a===b.target});b!==-1&&this._animators.splice(b,1)}},{key:"resume",value:function(a){var b=this,c=j.default.inArray(a,b._pausedAnimators,function(a,b){return a===b.target});if(c>-1){var d=b._pausedAnimators.splice(c,1);d[0].timestamp=+new Date,b._animators.push(d[0]),b._animate()}}},{key:"pause",value:function(a){var b=this,c=j.default.inArray(a,b._animators,function(a,b){return a===b.target});if(c>-1){var d=b._animators.splice(c,1);b._pausedAnimators.push(d[0])}}},{key:"start",value:function(){j.default.each(this._animators,function(a){a.timestamp=+new Date}),this._animate()}},{key:"stop",value:function(){this._isAnimated=!1,n.default.remove(this)}},{key:"_init",value:function(a,b){var c={},d=null,e=[],f={},g=0,h=[];for(var i in b)b.hasOwnProperty(i)&&("onComplete"===i?d=b[i]:"onCompleteParam"===i?e=b[i]:c[i]=b[i]);return f=arguments[2],"object"==typeof f&&f.a&&f.b?(f=arguments[2]||l.default.easeInSine,g=arguments[3]||1e3,d=d||arguments[4],e=e||arguments[5]):(f=l.default.easeInSine,g=arguments[2]||1e3,d=d||arguments[3],e=e||arguments[4]),h.push(a,c,f,g,d,e),h}},{key:"_addQueue",value:function(a){var b=a.target,c=a.args[1];a.shouldStop=!1,a.timeCount=0,a.origin={};for(var d in c)c.hasOwnProperty(d)&&(a.origin[d]=b[d]);a.timestamp=+new Date,this._animators.push(a),this._animate()}},{key:"_cubicBezier",value:function(a,b){var c={x:0,y:0},d=a.a,e=a.b,f={x:1,y:1};return{x:c.x*Math.pow(1-b,3)+3*d.x*b*Math.pow(1-b,2)+3*e.x*Math.pow(b,2)*(1-b)+f.x*Math.pow(b,3),y:c.y*Math.pow(1-b,3)+3*d.y*b*Math.pow(1-b,2)+3*e.y*Math.pow(b,2)*(1-b)+f.y*Math.pow(b,3)}}},{key:"_animate",value:function(){var a=this;a._isAnimated||(a._isAnimated=!0,n.default.add(a))}},{key:"tick",value:function(){var a=this,b=1e3/60;if(!a._animators.length||!a._isAnimated)return void a.stop();j.default.each(a._animators,function(c){var d=f(c.args,6),e=d[0],g=d[1],h=d[2],i=d[3],j=d[4],k=d[5],l=+new Date,m=c.timeCount+=l-c.timestamp,n=c.shouldStop=i-m<=b||m>i,o=c.origin,p=a._cubicBezier(h,n?1:m/i);for(var q in g)g.hasOwnProperty(q)&&(e[q]=o[q]+(g[q]-o[q])*p.y);n&&"function"==typeof j&&j.call(e,k),c.timestamp=+new Date});for(var c=a._animators.length-1;c>=0;c-=1)a._animators[c].shouldStop&&a._animators.splice(c,1)}},{key:"_animators",get:function(){return this._animators_=this._animators_||[],this._animators_}},{key:"_pausedAnimators",get:function(){return this._pausedAnimators_=this._pausedAnimators_||[],this._pausedAnimators_}},{key:"_isAnimated",get:function(){return this._isAnimated_=this._isAnimated_||!1,this._isAnimated_},set:function(a){this._isAnimated_=a}}]),a}();c.default=o,b.exports=c.default},{"./Easing":6,"./Timer":23,"./Util":27}],2:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./DisplayObject"),j=d(i),k=a("./Global"),l=d(k),m=a("./Util"),n=d(m),o=a("./Vec3"),p=d(o),q=a("./Matrix3"),r=d(q),s=function(a){function b(a){return e(this,b),a?(h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="Bitmap",void(this._bitmapData=a)):void console.error("bitmapData must not be empty")}return f(b,a),g(b,[{key:"show",value:function(a){var c=h(Object.getPrototypeOf(b.prototype),"show",this).call(this,a);if(!c)return c;var d=this,e=d.ctx||d.stage.ctx,f=d._bitmapData,g=f._source;return g&&(e.save(),a=f._matrix.getMatrix(),e.transform(a[0],a[1],a[3],a[4],a[6],a[7]),e.drawImage(g,0,0),e.restore()),e.restore(),c}},{key:"isMouseOn",value:function(a){var b=this,c=new p.default(a.x,a.y,1),d=b._matrix.multi(b._bitmapData._matrix),e=r.default.inverse(d),f=[[0,0],[b.width,0],[b.width,b.height],[0,b.height]];return c.multiMatrix3(e),n.default.pip([c.x,c.y],f)}},{key:"getBounds",value:function(){var a=this,b=l.default.maxNumber,c=l.default.minNumber,d=l.default.maxNumber,e=l.default.minNumber,f=[[0,0],[a.width,0],[a.width,a.height],[0,a.height]],g=a._matrix.multi(a._bitmapData._matrix),h=n.default.map(f,function(a){var b=new p.default(a[0],a[1],1);return b.multiMatrix3(g)});return n.default.each(h,function(a){b=a.x<b?a.x:b,c=a.x>c?a.x:c,d=a.y<d?a.y:d,e=a.y>e?a.y:e}),b!==l.default.maxNumber&&c!==l.default.minNumber&&d!==l.default.maxNumber&&e!==l.default.minNumber||(b=d=c=e=0),{sv:new p.default(b,d,1),ev:new p.default(c,e,1)}}},{key:"width",get:function(){return this._bitmapData.width}},{key:"height",get:function(){return this._bitmapData.height}}]),b}(j.default);c.default=s,b.exports=c.default},{"./DisplayObject":4,"./Global":9,"./Matrix3":16,"./Util":27,"./Vec3":28}],3:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./Matrix3"),h=d(g),i=function(){function a(b,c){e(this,a);var d=document.createElement("CANVAS");d.width=b,d.height=c,this._source=d,this._ctx=d.getContext("2d"),this._matrix=h.default.identity(),this._locked=!1,this._imageData=null,this.width=b||0,this.height=c||0}return f(a,[{key:"clone",value:function(){var b=new a(this.width,this.height);return b.draw(this._source,this._matrix),b}},{key:"dispose",value:function(){this._source=null,this._matrix=h.default.identity(),this._locked=!1,this.width=0,this.height=0}},{key:"draw",value:function(a,b){var c=this;c._locked||(a instanceof Image||a instanceof Node&&"CANVAS"===a.nodeName.toUpperCase())&&(c.width=a.width,c.height=a.height,c._ctx.drawImage(a,0,0),c._imageData=null,c._locked=!1,b instanceof h.default&&this._matrix.multi(b))}},{key:"getPixel",value:function(a,b){var c=this;if(!c._ctx||a>c.width||b>c.height)return new ImageData(new Uint8ClampedArray(new Array(4),0,4),1,1);var d=null,e=null;if(c._locked){var f=4*(a*c.width+c.height);return d=c._imageData,e=d.data,new ImageData(new Uint8ClampedArray([e[f],e[f+1],e[f+2],e[f+3]],0,4),1,1)}return d=c._ctx.getImageData(a,b,1,1),e=d.data,new ImageData(new Uint8ClampedArray([e[0],e[1],e[2],0],0,4),1,1)}},{key:"getPixel32",value:function(a,b){var c=this;if(!c._ctx||a>c.width||b>c.height)return new ImageData(new Uint8ClampedArray([0,0,0,0],0,4),1,1);if(c._locked){var d=c._imageData,e=d.data,f=4*(a*c.width+c.height);return new ImageData(new Uint8ClampedArray([e[f],e[f+1],e[f+2],e[f+3]],0,4),1,1)}return c._ctx.getImageData(a,b,1,1)}},{key:"getPixels",value:function(a,b,c,d){var e=this;if(!e._ctx||a>e.width||b>e.height)return new ImageData(new Uint8ClampedArray([0,0,0,0],0,4),1,1);if(c=a+c>e.width?e.width-a:c,d=b+d>e.height?e.height-b:d,e._locked){for(var f=e._imageData,g=f.data,h=[],i=0;i<d;i+=1)for(var j=(b+i)*e.height+a,k=0;k<c;k+=1){var l=4*(j+k);h.push(g[l],g[l+1],g[l+2],g[l+3])}return new ImageData(new Uint8ClampedArray(h,0,h.length),c,d)}return e._ctx.getImageData(a,b,c,d)}},{key:"setPixel",value:function(a,b,c){var d=this,e=d._ctx;if(e&&c)if(d._locked){var f=4*(a*d.width+b),g=d._imageData.data;g[f]=c.data[0],g[f+1]=c.data[1],g[f+2]=c.data[2]}else{var h=d.getPixels(a,b,1,1);h.data[0]=c.data[0],h.data[1]=c.data[1],h.data[2]=c.data[2],e.putImageData(h,a,b,0,0,1,1)}}},{key:"setPixel32",value:function(a,b,c){var d=this,e=d._ctx;if(e&&c)if(d._locked){var f=4*(a*d.width+b),g=d._imageData.data;g[f]=c.data[0],g[f+1]=c.data[1],g[f+2]=c.data[2],g[f+3]=c.data[3]}else{var h=d.getPixels(a,b,1,1);h.data[0]=c.data[0],h.data[1]=c.data[1],h.data[2]=c.data[2],h.data[3]=c.data[3],e.putImageData(h,a,b,0,0,1,1)}}},{key:"setPixels",value:function(a,b,c,d,e){var f=this,g=f._ctx;if(!(!g||a>f.width||b>f.height)&&e)if(c=a+c>f.width?f.width-a:c,d=b+d>f.height?f.height-b:d,f._locked)for(var h=f._imageData.data,i=0;i<d;i+=1)for(var j=(b+i)*f.height+a,k=0;k<c;k+=1)for(var l=4*(i*d+k),m=0;m<4;m+=1)h[4*(j+k)+m]=e.data[l+m];else{for(var n=f.getPixels(a,b,c,d),i=0;i<d;i+=1)for(var k=0;k<c;k+=1)for(var l=4*(i*d+k),m=0;m<4;m+=1)n.data[l+m]=e.data[l+m];g.putImageData(n,a,b,0,0,c,d)}}},{key:"lock",value:function(){var a=this;a._locked=!0,a._imageData=a._ctx.getImageData(0,0,a.width,a.height)}},{key:"unlock",value:function(){var a=this;a._locked=!1,a._imageData&&a._ctx.putImageData(a._imageData,0,0),a._imageData=null}}]),a}();c.default=i,b.exports=c.default},{"./Matrix3":16}],4:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./Global"),j=d(i),k=a("./Matrix3"),l=d(k),m=a("./Util"),n=d(m),o=a("./EventDispatcher"),p=d(o),q=a("./Event"),r=d(q),s=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="DisplayObject",this.parent=null,this.globalCompositeOperation="",this._mask=null,this._x=0,this._y=0,this._rotate=0,this._scaleX=1,this._scaleY=1,this._height=0,this._width=0,this._alpha=1,this.visible=!0,this._isSaved=!1,this._addedToStage=!1,this._matrix=l.default.identity(),this.aIndex=this.objectIndex=""+j.default.guid,j.default.guid+=1}return f(b,a),g(b,[{key:"on",value:function(){h(Object.getPrototypeOf(b.prototype),"on",this).apply(this,arguments)}},{key:"off",value:function(){h(Object.getPrototypeOf(b.prototype),"off",this).apply(this,arguments)}},{key:"show",value:function(a){var b=this,c=b.ctx||b.stage.ctx,d=b.x,e=b.y,f=b.scaleX,g=b.scaleY,h=b.alpha,i=b.rotate,j=b.visible,k=b.mask;return b._matrix=l.default.identity(),j&&h?((null!==b.mask&&b.mask.show||""!==b.globalCompositeOperation||0!==i||1!==f||1!==g||0!==d||0!==e)&&(b._isSaved=!0,c.save()),null!==k&&k.show&&(k.show(a),c.clip()),""!==b.globalCompositeOperation&&(c.globalCompositeOperation=b.globalCompositeOperation),h<1&&(c.globalAlpha=h),b._matrix.multi(a),0===d&&0===e||(b._matrix.multi(l.default.translation(d,e)),c.translate(d,e)),0!==i&&(b._matrix.multi(l.default.rotation(i)),c.rotate(n.default.deg2rad(i))),1===f&&1===g||(b._matrix.multi(l.default.scaling(f,g)),c.scale(f,g)),b._triggerAddToStageEvent(),!0):(b._triggerAddToStageEvent(),!1)}},{key:"isMouseOn",value:function(a){}},{key:"getBounds",value:function(){}},{key:"dispose",value:function(){var a=this,b=n.default.keys(a._handlers);b.length&&a.off(b),a._mask=null}},{key:"_triggerAddToStageEvent",value:function(){this._addedToStage||(this._addedToStage=!0,this.trigger(r.default.ADD_TO_STAGE))}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"x",get:function(){return this._x},set:function(a){this._x=a}},{key:"y",get:function(){return this._y},set:function(a){this._y=a}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a}},{key:"scaleX",get:function(){return this._scaleX},set:function(a){this._scaleX=a}},{key:"scaleY",get:function(){return this._scaleY},set:function(a){this._scaleY=a}},{key:"alpha",get:function(){return this._alpha},set:function(a){a>1?a=1:a<.001&&(a=0),this._alpha=a}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask=a}}]),b}(p.default);c.default=s,b.exports=c.default},{"./Event":7,"./EventDispatcher":8,"./Global":9,"./Matrix3":16,"./Util":27}],5:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./InteractiveObject"),j=d(i),k=a("./DisplayObject"),l=d(k),m=a("./Util"),n=d(m),o=a("./Matrix3"),p=d(o),q=a("./Vec3"),r=d(q),s=a("./Global"),t=d(s),u=a("./Event"),v=d(u),w=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="DisplayObjectContainer",this._childList=[]}return f(b,a),g(b,[{key:"addChild",value:function(a){var b=this;if(a instanceof l.default){var c=n.default.inArray(a,b._childList,function(a,b){return a.aIndex===b.aIndex})===-1;c&&(a.parent=b,a.stage=a.stage?a.stage:b.stage,a.objectIndex=b.objectIndex+"."+(b._childList.length+1),b._childList.push(a))}}},{key:"removeChild",value:function(a){var b=this;if(a instanceof l.default)for(var c=b._childList.length-1;c>=0;c-=1){var d=b._childList[c];if(d.aIndex===a.aIndex){d.parent=null,d.stage=null,Array.prototype.splice.call(b._childList,c,1);break}}}},{key:"getAllChild",value:function(){var a=this;return n.default.clone(a._childList)}},{key:"getChildAt",value:function(a){var b=this,c=b._childList.length;if(!(Math.abs(a)>c))return a<0&&(a=c+a),b._childList[a]}},{key:"contains",value:function(a){var b=this;if(a instanceof l.default)return n.default.inArray(a,b._childList,function(a,b){return a.aIndex===b.aIndex})!==-1}},{key:"show",value:function(a){var c=this;null===a&&(a=p.default.clone(c._matrix));var d=h(Object.getPrototypeOf(b.prototype),"show",this).call(this,a);if(d){for(var e=c.ctx||c.stage.ctx,f=0,g=c._childList.length;f<g;f+=1){var i=c._childList[f];i.show&&(i.show(c._matrix),i._isSaved&&(i._isSaved=!1,e.restore())),i.trigger(v.default.ENTER_FRAME)}c._isSaved&&(c._isSaved=!1,e.restore())}return c.trigger(v.default.ENTER_FRAME),d}},{key:"dispose",value:function(){var a=this;n.default.each(a._childList,function(b){a.removeChild(b),b.dispose&&b.dispose()}),h(Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}},{key:"isMouseOn",value:function(a){for(var b=this,c=0,d=b._childList.length;c<d;c+=1){var e=b._childList[c];if(e.isMouseOn&&e.isMouseOn(a))return!0}return!1}},{key:"getBounds",value:function(){var a=this,b=a._childList,c=r.default.clone(t.default.maxNumberVec3),d=r.default.clone(t.default.minNumberVec3);return n.default.each(b,function(a){if("function"==typeof a.getBounds){var b=a.getBounds();c.x=b.sv.x<c.x?b.sv.x:c.x,c.y=b.sv.y<c.y?b.sv.y:c.y,d.x=b.ev.x>d.x?b.ev.x:d.x,d.y=b.ev.y>d.y?b.ev.y:d.y}}),c.x!==t.default.maxNumber&&d.x!==t.default.minNumber&&c.y!==t.default.maxNumber&&d.y!==t.default.minNumber||(c=d=r.default.zero()),{sv:c,ev:d}}},{key:"width",get:function(){var a=this,b=a.getBounds();return Math.abs(b.ev.x-b.sv.x)}},{key:"height",get:function(){var a=this,b=a.getBounds();return Math.abs(b.ev.y-b.sv.y)}}]),b}(j.default);c.default=w,b.exports=c.default},{"./DisplayObject":4,"./Event":7,"./Global":9,"./InteractiveObject":11,"./Matrix3":16,"./Util":27,"./Vec3":28}],6:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default={easeInSine:{a:{x:.47,y:0},b:{x:.745,y:.715}},easeOutSine:{a:{x:.39,y:.575},b:{x:.565,y:1}},easeInOutSine:{a:{x:.445,y:.05},b:{x:.55,y:.95}},easeInQuad:{a:{x:.55,y:.085},b:{x:.68,y:.53}},easeOutQuad:{a:{x:.25,y:.46},b:{x:.45,y:.94}},easeInOutQuad:{a:{x:.455,y:.03},b:{x:.515,y:.955}},easeInCubic:{a:{x:.55,y:.055},b:{x:.675,y:.19}},easeOutCubic:{a:{x:.215,y:.61},b:{x:.355,y:1}},easeInOutCubic:{a:{x:.645,y:.045},b:{x:.355,y:1}},easeInQuart:{a:{x:.895,y:.03},b:{x:.685,y:.22}},easeOutQuart:{a:{x:.165,y:.84},b:{x:.44,y:1}},easeInOutQuart:{a:{x:.77,y:0},b:{x:.0175,y:1}},easeInQuint:{a:{x:.755,y:.05},b:{x:.855,y:.06}},easeOutQuint:{a:{x:.23,y:1},b:{x:.32,y:1}},easeInOutQuint:{a:{x:.86,y:0},b:{x:.07,y:1}},easeInExpo:{a:{x:.95,y:.05},b:{x:.795,y:.035}},easeOutExpo:{a:{x:.19,y:1},b:{x:.22,y:1}},easeInOutExpo:{a:{x:1,y:0},b:{x:0,y:1}},easeInCirc:{a:{x:.6,y:.04},b:{x:.98,y:.335}},easeOutCirc:{a:{x:.075,y:.82},b:{x:.165,y:1}},easeInOutCirc:{a:{x:.785,y:.135},b:{x:.15,y:.86}},easeInBack:{a:{x:.6,y:-.28},b:{x:.735,y:.045}},easeOutBack:{a:{x:.175,y:.885},b:{x:.32,y:1.275}},easeInOutBack:{a:{x:.68,y:-.55},b:{x:.265,y:1.55}}},b.exports=c.default},{}],7:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default={ADD_TO_STAGE:"add_to_stage",ENTER_FRAME:"enter_frame"},b.exports=c.default},{}],8:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./Global"),h=d(g),i=a("./Util"),j=d(i),k=function(){function a(){e(this,a)}return f(a,[{key:"on",value:function(b,c,d,e){var f=this;if("string"==typeof b){var g=[f,b,c,d];b=g[0],c=g[1],d=g[2],e=g[3]}return c&&d&&(e=!!e&&e,j.default.isType(c,"Array")?j.default.each(c,function(b){a.prototype.on.call(f,b,d,e)}):!function(){var a=b.handlers,g=function b(d){for(var e=a[c],g=f._fixEvent(d),h=0,i=e.length;h<i;h+=1){var j=e[h];if(g.isImmediatePropagationStopped())break;j._guid===b._guid&&j._callback.call(f,g)}};g._fnStr=d._fntStr?d._fnStr:d.toString().replace(h.default.fnRegExp,""),g._callback=d,g._useCapture=e,g._guid=h.default.guid,h.default.guid+=1,a||(a=b.handlers={}),a[c]||(a[c]=[]),a[c].push(g),a[c].length&&(b.addEventListener?b.addEventListener(c,g,e):b.attachEvent&&b.attachEvent(c,g))}()),f}},{key:"off",value:function(b,c,d){var e=this;if("string"==typeof b){var f=[e,b,c];b=f[0],c=f[1],d=f[2]}if(c||d)if(j.default.isType(c,"Array"))j.default.each(c,function(c){a.prototype.off.call(e,b,c,d)});else if(d){var g=b.handlers;if(g)for(var i=d._fnStr?d._fnStr:d.toString().replace(h.default.fnRegExp,""),k=g[c]?g[c]:[],l=k.length-1;l>=0;l-=1){var m=k[l];m._fnStr===i&&Array.prototype.splice.call(k,l,1)}}else{var g=b.handlers;if(g){var k=g[c]?g[c]:[];j.default.each(k,function(d){a.prototype.off.call(e,b,c,d)})}}return e}},{key:"once",value:function(b,c,d,e){var f=this;if("string"==typeof b){var g=[f,b,c,d];b=g[0],c=g[1],d=g[2],e=g[3]}var i=function g(h){d.call(f,h),h.isImmediatePropagationStopped()&&a.prototype.off.call(b,c,g),e?0===h.eventPhase&&a.prototype.off.call(b,c,g):a.prototype.off.call(b,c,g)};return i._fnStr=d.toString().replace(h.default.fnRegExp,""),a.prototype.on.call(b,c,i,e),f}},{key:"trigger",value:function(a,b,c){var d=this;if(a||b){if("string"==typeof a){var e=[d,a,b];a=e[0],b=e[1],c=e[2]}var f=a&&a.handlers;if(!f)return d;var g=f[b]?f[b]:[];if(!g.length)return d;var h=c||{};null===h.target&&(h.target=h.currentTarget=a),h=d._fixEvent(h);for(var i=a.parent||a.parentNode,j={propagations:[],useCaptures:[]};i;){var k=i.handlers;if(k)for(var l=k[b]?k[b]:[],m=0,n=l.length;m<n;m+=1){var o=l[m]._useCapture;if(o){var p={target:i,callback:l[m]};m?j.useCaptures.splice(1,0,p):j.useCaptures.unshift(p)}else j.propagations.push({target:i,callback:l[m]})}i=i.parent||i.parentNode}var q=j.useCaptures,r=null;h.eventPhase=0;for(var m=0,n=q.length;m<n;m+=1){var s=q[m];if(a=s.target,h.isImmediatePropagationStopped())break;r===a&&h.isPropagationStopped()?s.callback.call(d,h):(s.callback.call(d,h),r=a)}var t=!1;q.length&&(t=h.isImmediatePropagationStopped()||h.isPropagationStopped()),h.eventPhase=1;for(var m=0,n=g.length;m<n;m+=1){var u=g[m];if(t)break;u.call(d,h)}var v=j.propagations;r=null,h.eventPhase=2;for(var m=0,n=v.length;m<n;m+=1){var s=v[m];if(a=s.target,h.target=a,t){if(h.isImmediatePropagationStopped()||h.isPropagationStopped())break;s.callback.call(d,h),r=a}else{if(h.isImmediatePropagationStopped())break;if(h.isPropagationStopped()){if(r!==a)break;s.callback.call(d,h)}else s.callback.call(d,h),r=a}}}}},{key:"_fixEvent",value:function(a){var b=this,c=function(){return!0},d=function(){return!1};return a&&a.isPropagationStopped||!function(){a=a?a:{};var e=a.preventDefault,f=a.stopPropagation,g=a.stopImmediatePropagation;if(a.target||(a.target=a.srcElement||document),a.currentTarget||(a.currentTarget=b),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){e&&e.call(a),a.returnValue=!1,a.isDefaultPrevented=c,a.defaultPrevented=!0},a.isDefaultPrevented=d,a.defaultPrevented=!1,a.stopPropagation=function(){f&&f.call(a),a.cancelBubble=!0,a.isPropagationStopped=c},a.isPropagationStopped=d,a.stopImmediatePropagation=function(){g&&g.call(a),a.isImmediatePropagationStopped=c,a.stopPropagation()},a.isImmediatePropagationStopped=d,null!==a.clientX){var h=document.documentElement,i=document.body;a.pageX=a.clientX+(h&&h.scrollLeft||i&&i.scrollLeft||0)-(h&&h.clientLeft||i&&i.clientLeft||0),a.pageY=a.clientY+(h&&h.scrollTop||i&&i.scrollTop||0)-(h&&h.clientTop||i&&i.clientTop||0)}a.which=a.charCode||a.keyCode}(),a}}]),a}();c.default=k,b.exports=c.default},{"./Global":9,"./Util":27}],9:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./Vec3"),h=d(g),i=function(){function a(){e(this,a)}return f(a,null,[{key:"guid",get:function(){return this._guid=this._guid||0,this._guid},set:function(a){this._guid=a}},{key:"fnRegExp",get:function(){return/\s+/g}},{key:"maxNumber",get:function(){return Number.MAX_VALUE}},{key:"minNumber",get:function(){return-1*Number.MAX_VALUE}},{key:"maxNumberVec3",get:function(){var a=Number.MAX_VALUE;return new h.default(a,a,1)}},{key:"minNumberVec3",get:function(){var a=-1*Number.MAX_VALUE;return new h.default(a,a,1)}}]),a}();c.default=i,b.exports=c.default},{"./Vec3":28}],10:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./Util"),h=d(g),i=a("./EventDispatcher"),j=d(i),k=function(){function a(){e(this,a)}return f(a,null,[{key:"getList",value:function(){return h.default.clone(this._list)}},{key:"add",value:function(a,b){if(b instanceof j.default){var c=this._list;c[a]=c[a]?c[a]:[];var d=h.default.inArray(b,c[a],function(a,b){return a.aIndex===b.aIndex})===-1;d&&c[a].push(b)}}},{key:"remove",value:function(a,b){if(b instanceof j.default){var c=this._list;if(c[a]){var d=h.default.inArray(b,c[a],function(a,b){return a.aIndex===b.aIndex});d!==-1&&c[a].splice(d,1)}}}},{key:"_list",get:function(){return this._list_=this._list_||{},this._list_},set:function(a){this._list_=a}}]),a}();c.default=k,b.exports=c.default},{"./EventDispatcher":8,"./Util":27}],11:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./DisplayObject"),j=d(i),k=a("./Util"),l=d(k),m=a("./KeyboardEvent"),n=d(m),o=a("./MouseEvent"),p=d(o),q=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="InteractiveObject"}return f(b,a),g(b,[{key:"on",value:function(a,c,d){var e=this;if(arguments.length>1){var f=a.toUpperCase();l.default.inArray(f,p.default.nameList)!==-1?p.default.add(a,e):l.default.inArray(f,n.default.nameList)!==-1&&n.default.add(a,e),h(Object.getPrototypeOf(b.prototype),"on",this).call(this,e,a,c,d)}}},{key:"off",value:function(a,c){var d=this;if(arguments.length){var e=a.toUpperCase();l.default.inArray(e,p.default.nameList)!==-1?p.default.remove(a,d):l.default.inArray(e,n.default.nameList)!==-1&&n.default.remove(a,d)}else l.default.each(p.default.nameList,function(a){p.default.remove(a,d)}),l.default.each(n.default.nameList,function(a){n.default.remove(a,d)});h(Object.getPrototypeOf(b.prototype),"off",this).call(this,d,a,c)}}]),b}(j.default);c.default=q,b.exports=c.default},{"./DisplayObject":4,"./KeyboardEvent":12,"./MouseEvent":17,"./Util":27}],12:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./InteractiveEvent"),j=d(i),k=a("./Util"),l=d(k),m=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,null,[{key:"getItems",value:function(a){var b=this;return b._list[a]||[]}}]),b}(j.default);c.default=m;var n={KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress"};for(var o in n)n.hasOwnProperty(o)&&(m[o]=n[o]);m.nameList=l.default.keys(n),b.exports=c.default},{"./InteractiveEvent":10,"./Util":27}],13:[function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(){d(this,a)};c.default=e,b.exports=c.default},{}],14:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{
value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./DisplayObjectContainer"),j=d(i),k=a("./LoaderEvent"),l=d(k),m=a("./Util"),n=d(m),o=a("./BitmapData"),p=d(o),q=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.content=new Image,this._close=!1,this._loading=!1,this._queue=[]}return f(b,a),g(b,[{key:"on",value:function(a,c){h(Object.getPrototypeOf(b.prototype),"on",this).call(this,a,c,!1)}},{key:"off",value:function(a,c){h(Object.getPrototypeOf(b.prototype),"off",this).call(this,a,c)}},{key:"toBitmapData",value:function(a){var b=this,c=new p.default(b.content.width,b.content.height);return c.draw(b.content,a),c}},{key:"load",value:function(a){var b=this,c=[];if(a.method=a.method.toUpperCase(),null===a)return void console.error("Loader need URLRequest instance");if(b._loading)return void b._queue.push(a);var d=a.url,e=a.data,f=n.default.keys(a.data);f.length&&(c=n.default.map(a.data,function(a,b){return b+"="+encodeURIComponent(a)}),e=c.join("&")),"GET"===a.method&&(f.length&&(d+="?"+e),e=null),b.content.onload=function(){b._onload()},b.content.onerror=function(){b._onerror()},b.content.src=d,b._loading=!0}},{key:"close",value:function(){this._close=!0}},{key:"_onload",value:function(){var a=this;a._close||a.trigger(a,l.default.COMPLETE,{target:a}),a._close=!1,a._loading=!1,a._next()}},{key:"_onerror",value:function(){var a=this;a._close||a.trigger(a,l.default.ERROR),a._close=!1,a._loading=!1,a._next()}},{key:"_next",value:function(){var a=this;a._queue.length&&a.load(a._queue.shift())}}]),b}(j.default);c.default=q,b.exports=c.default},{"./BitmapData":3,"./DisplayObjectContainer":5,"./LoaderEvent":15,"./Util":27}],15:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default={COMPLETE:"complete",ERROR:"error"},b.exports=c.default},{}],16:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./Util"),h=d(g),i=function(){function a(b){e(this,a),this._matrix=b||[1,0,0,0,1,0,0,0,1]}return f(a,[{key:"setMatrix",value:function(a){return this._matrix=a,this}},{key:"getMatrix",value:function(){return this._matrix}},{key:"add",value:function(a){var b=a._matrix;return this._matrix[0]+=b[0],this._matrix[1]+=b[1],this._matrix[2]+=b[2],this._matrix[3]+=b[3],this._matrix[4]+=b[4],this._matrix[5]+=b[5],this._matrix[6]+=b[6],this._matrix[7]+=b[7],this._matrix[8]+=b[8],this}},{key:"sub",value:function(a){var b=a._matrix;return this._matrix[0]-=b[0],this._matrix[1]-=b[1],this._matrix[2]-=b[2],this._matrix[3]-=b[3],this._matrix[4]-=b[4],this._matrix[5]-=b[5],this._matrix[6]-=b[6],this._matrix[7]-=b[7],this._matrix[8]-=b[8],this}},{key:"multi",value:function(a){var b=a._matrix,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];b=this._matrix;var l=b[0],m=b[1],n=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7],t=b[8];return b[0]=l*c+o*d+r*e,b[1]=m*c+p*d+s*e,b[2]=n*c+q*d+t*e,b[3]=l*f+o*g+r*h,b[4]=m*f+p*g+s*h,b[5]=n*f+q*g+t*h,b[6]=l*i+o*j+r*k,b[7]=m*i+p*j+s*k,b[8]=n*i+q*j+t*k,this}},{key:"translate",value:function(a,b){return this._matrix[6]=a,this._matrix[7]=b,this}},{key:"rotate",value:function(a){var b=Math.cos(a*Math.PI/180),c=Math.sin(a*Math.PI/180);return this._matrix[0]=b,this._matrix[1]=c,this._matrix[3]=-c,this._matrix[4]=b,this}},{key:"scale",value:function(a,b){return this._matrix[0]=a,this._matrix[4]=b,this}}],[{key:"clone",value:function(b){for(var c=b.getMatrix(),d=[],e=0,f=c.length;e<f;e+=1)d[e]=c[e];return new a(d)}},{key:"copy",value:function(b,c){var d=a.clone(c);b.setMatrix(d.getMatrix())}},{key:"zero",value:function(){return new a([0,0,0,0,0,0,0,0,0])}},{key:"isZero",value:function(a){return a=a.getMatrix(),h.default.every(a,function(a){return 0===a})}},{key:"identity",value:function(){return new a([1,0,0,0,1,0,0,0,1])}},{key:"isIdentity",value:function(a){return a=a.getMatrix(),h.default.every(a,function(a,b){return b%4===0?1===a:0===a})}},{key:"translation",value:function(b,c){return new a([1,0,0,0,1,0,b,c,1])}},{key:"rotation",value:function(b){var c=Math.cos(b*Math.PI/180),d=Math.sin(b*Math.PI/180);return new a([c,d,0,-d,c,0,0,0,1])}},{key:"scaling",value:function(b,c){return new a([b,0,0,0,c,0,0,0,1])}},{key:"transpose",value:function(a){var b=a.getMatrix(),c=b[1];b[1]=b[3],b[3]=c,c=b[2],b[2]=b[6],b[6]=c,c=b[5],b[5]=b[7],b[7]=c,a.setMatrix(b)}},{key:"inverse",value:function(b){var c=b.getMatrix(),d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=d*h*l+e*i*j+f*g*k-f*h*j-e*g*l-d*i*k,n=(h*l-k*i)/m,o=-(g*l-j*i)/m,p=(g*k-j*h)/m,q=-(e*l-k*f)/m,r=(d*l-j*f)/m,s=-(d*k-j*e)/m,t=(e*i-h*f)/m,u=-(d*i-g*f)/m,v=(d*h-g*e)/m;return c=new a([n,o,p,q,r,s,t,u,v]),a.transpose(c),c}}]),a}();c.default=i,b.exports=c.default},{"./Util":27}],17:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./InteractiveEvent"),j=d(i),k=a("./Util"),l=d(k),m=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,null,[{key:"getTopItem",value:function(a,b){var c=this,d=c._list[a]||[];return d=l.default.filter(d,function(a){if(a.isMouseOn&&a.isMouseOn(b))return!0}),d=Array.prototype.sort.call(d,function(a,b){for(var c=a.objectIndex.split("."),d=b.objectIndex.split("."),e=Math.max(c.length,d.length),f=0;f<e;f+=1){if(!d[f]||!c[f])return d[f]?1:-1;if(d[f]!==c[f])return d[f]-c[f]}}),d[0]}}]),b}(j.default);c.default=m;var n={CLICK:"click",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEMOVE:"mousemove"};for(var o in n)n.hasOwnProperty(o)&&(m[o]=n[o]);m.nameList=l.default.keys(n),b.exports=c.default},{"./InteractiveEvent":10,"./Util":27}],18:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./DisplayObject"),j=d(i),k=a("./Util"),l=d(k),m=a("./Vec3"),n=d(m),o=a("./Matrix3"),p=d(o),q=a("./Global"),r=d(q),s=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="Shape",this._showList=[],this._setList=[]}return f(b,a),g(b,[{key:"on",value:function(){console.error("shape object can't interative event, please add shape to sprite")}},{key:"off",value:function(){console.error("shape object can't interative event, please add shape to sprite")}},{key:"show",value:function(a){var c=this,d=c._showList,e=h(Object.getPrototypeOf(b.prototype),"show",this).call(this,a);if(e){for(var f=0,g=d.length;f<g;f+=1){var i=d[f];"function"==typeof i&&i()}if(c._isSaved){var j=c.ctx||c.stage.ctx;c._isSaved=!1,j.restore()}}return e}},{key:"lineWidth",value:function(a){var b=this;b._showList.push(function(){var c=b.ctx||b.stage.ctx;c.lineWidth=a})}},{key:"strokeStyle",value:function(a){var b=this;b._showList.push(function(){var c=b.ctx||b.stage.ctx;c.strokeStyle=a})}},{key:"stroke",value:function(){var a=this;a._showList.push(function(){var b=a.ctx||a.stage.ctx;b.stroke()})}},{key:"beginPath",value:function(){var a=this;a._showList.push(function(){var b=a.ctx||a.stage.ctx;b.beginPath()})}},{key:"closePath",value:function(){var a=this;a._showList.push(function(){var b=a.ctx||a.stage.ctx;b.closePath()})}},{key:"moveTo",value:function(a,b){var c=this;c._showList.push(function(){var d=c.ctx||c.stage.ctx;d.moveTo(a,b)})}},{key:"lineTo",value:function(a,b){var c=this;c._showList.push(function(){var d=c.ctx||c.stage.ctx;d.lineTo(a,b)})}},{key:"clear",value:function(){var a=this;a._showList=[],a._setList=[]}},{key:"rect",value:function(a,b,c,d){var e=this;e._showList.push(function(){var f=e.ctx||e.stage.ctx;f.rect(a,b,c,d)}),e._setList.push({type:"rect",area:[a,b,c,d]})}},{key:"fillStyle",value:function(a){var b=this;b._showList.push(function(){var c=b.ctx||b.stage.ctx;c.fillStyle=a})}},{key:"fill",value:function(){var a=this;a._showList.push(function(){var b=a.ctx||a.stage.ctx;b.fill()})}},{key:"arc",value:function(a,b,c,d,e,f){var g=this;g._showList.push(function(){var h=g.ctx||g.stage.ctx;h.arc(a,b,c,d,e,f)}),g._setList.push({type:"arc",area:[a,b,c,d,e,f]})}},{key:"drawArc",value:function(a,b,c,d,e){var f=this;f._showList.push(function(){var g=f.ctx||f.stage.ctx;g.beginPath(),g.arc(c[0],c[1],c[2],c[3],c[4],c[5]),d&&(g.fillStyle=e,g.fill()),g.lineWidth=a,g.strokeStyle=b,g.stroke()}),f._setList.push({type:"arc",area:c})}},{key:"drawRect",value:function(a,b,c,d,e){var f=this;f._showList.push(function(){var g=f.ctx||f.stage.ctx;g.beginPath(),g.rect(c[0],c[1],c[2],c[3]),d&&(g.fillStyle=e,g.fill()),g.lineWidth=a,g.strokeStyle=b,g.stroke()}),f._setList.push({type:"rect",area:c})}},{key:"drawVertices",value:function(a,b,c,d,e){var f=this,g=c.length;g<3||(f._showList.push(function(){var h=f.ctx||f.stage.ctx;h.beginPath(),h.moveTo(c[0][0],c[0][1]);for(var i=1;i<g;i+=1){var j=c[i];h.lineTo(j[0],j[1])}h.lineTo(c[0][0],c[0][1]),d&&(h.fillStyle=e,h.fill()),h.lineWidth=a,h.strokeStyle=b,h.closePath(),h.stroke()}),f._setList.push({type:"vertices",area:c}))}},{key:"drawLine",value:function(a,b,c){var d=this;d._showList.push(function(){var e=d.ctx||d.stage.ctx;e.beginPath(),e.moveTo(c[0],c[1]),e.lineTo(c[2],c[3]),e.lineWidth=a,e.strokeStyle=b,e.closePath(),e.stroke()})}},{key:"lineStyle",value:function(a,b,c){var d=this;c&&(d.alpha=c),d._showList.push(function(){var c=d.ctx||d.stage.ctx;c.lineWidth=a,c.strokeStyle=b})}},{key:"add",value:function(a){var b=this;b._showList.push(function(){a.call(b)})}},{key:"isMouseOn",value:function(a){var b=this,c=new n.default(a.x,a.y,1),d=p.default.inverse(b._matrix);c.multiMatrix3(d);for(var e=b._setList,f=0,g=e.length;f<g;f+=1){var h=e[f],i=h.area,j={};switch(h.type){case"rect":i=[[i[0],i[1]],[i[0]+i[2],i[1]],[i[0]+i[2],i[1]+i[3]],[i[0],i[1]+i[3]]];case"vertices":break;case"arc":j=b._computeArcMinRect.apply(b,i),i=[[j.s1v.x,j.s1v.y],[j.s2v.x,j.s2v.y],[j.e2v.x,j.e2v.y],[j.e1v.x,j.e1v.y]]}if(l.default.pip([c.x,c.y],i))return!0}return!1}},{key:"getBounds",value:function(){for(var a=this,b=a._setList,c=r.default.maxNumber,d=r.default.minNumber,e=r.default.maxNumber,f=r.default.minNumber,g=0,h=b.length;g<h;g+=1){var i=b[g],j=i.area,k={},m=[];switch(i.type){case"rect":j=[[j[0],j[1]],[j[0]+j[2],j[1]],[j[0]+j[2],j[1]+j[3]],[j[0],j[1]+j[3]]];case"vertices":m=l.default.map(j,function(b){var c=new n.default(b[0],b[1],1);return c.multiMatrix3(a._matrix)});break;case"arc":k=a._computeArcMinRect.apply(a,j),m=l.default.map(k,function(b){return b.multiMatrix3(a._matrix)})}l.default.each(m,function(a){c=a.x<c?a.x:c,d=a.x>d?a.x:d,e=a.y<e?a.y:e,f=a.y>f?a.y:f})}return c!==r.default.maxNumber&&d!==r.default.minNumber&&e!==r.default.maxNumber&&f!==r.default.minNumber||(c=e=d=f=0),{sv:new n.default(c,e,1),ev:new n.default(d,f,1)}}},{key:"_computeArcMinRect",value:function(a,b,c,d,e,f){var g=0,h=0,i=0,j=0;if(d=l.default.rad2deg(d),e=l.default.rad2deg(e),Math.abs(e-d)/360>=1)return{s1v:new n.default(a-c,b-c,1),s2v:new n.default(a+c,b-c,1),e1v:new n.default(a-c,b+c,1),e2v:new n.default(a+c,b+c,1)};if(d-=360*Math.floor(d/360),e-=360*Math.floor(e/360),f){var k=[e,d];d=k[0],e=k[1]}var m=0;d<180&&d>=90?m=90:d<270&&d>=180?m=180:d<360&&d>=270&&(m=270),d-=m,e-=m,d=d<0?d+360:d,e=e<0?e+360:e;var o=Math.sin,q=Math.cos,r=n.default.zero(),s=n.default.zero();if(e<90&&e>d){var t=l.default.deg2rad(d),u=l.default.deg2rad(e);r=new n.default(q(u)*c,o(t)*c,1),s=new n.default(q(t)*c,o(u)*c,1)}else if(e<90&&e<d)r=new n.default((-c),(-c),1),s=new n.default(c,c,1);else if(e<180&&e>=90){var v=l.default.deg2rad(Math.min(180-e,d)),t=l.default.deg2rad(d),u=l.default.deg2rad(180-e);r=new n.default(-q(u)*c,o(v)*c,1),s=new n.default(q(t)*c,c,1)}else if(e<270&&e>=180){var t=l.default.deg2rad(d),u=l.default.deg2rad(e-180);r=new n.default((-c),-o(u)*c,1),s=new n.default(q(t)*c,c,1)}else if(e<360&&e>=270){var v=l.default.deg2rad(Math.min(360-e,d));r=new n.default((-c),(-c),1),s=new n.default(q(v)*c,c,1)}var w=p.default.translation(a,b),x=p.default.rotation(m),y=w.multi(x);return r.multiMatrix3(y),s.multiMatrix3(y),r.x<s.x?(g=r.x,i=s.x):(g=s.x,i=r.x),r.y<s.y?(h=r.y,j=s.y):(h=s.y,j=r.y),{s1v:new n.default(g,h,1),s2v:new n.default(i,h,1),e1v:new n.default(g,j,1),e2v:new n.default(i,j,1)}}},{key:"width",get:function(){var a=this,b=a.getBounds();return Math.abs(b.ev.x-b.sv.x)}},{key:"height",get:function(){var a=this,b=a.getBounds();return Math.abs(b.ev.y-b.sv.y)}}]),b}(j.default);c.default=s,b.exports=c.default},{"./DisplayObject":4,"./Global":9,"./Matrix3":16,"./Util":27,"./Vec3":28}],19:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./DisplayObjectContainer"),j=d(i),k=a("./DisplayObject"),l=d(k),m=a("./Shape"),n=d(m),o=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="Sprite",this.graphics=null}return f(b,a),g(b,[{key:"addChild",value:function(a){a instanceof n.default?console.error("shape object should be linked to Sprite's graphics property"):h(Object.getPrototypeOf(b.prototype),"addChild",this).call(this,a)}},{key:"removeChild",value:function(a){a instanceof n.default?console.error("shape object should be linked to Sprite's graphics property"):h(Object.getPrototypeOf(b.prototype),"removeChild",this).call(this,a)}},{key:"show",value:function(a){var c=this,d=h(Object.getPrototypeOf(b.prototype),"show",this).call(this,a);if(d&&(c.graphics&&c.graphics.show&&(l.default.prototype.show.call(c,a),c.graphics.show(c._matrix)),c._isSaved)){var e=c.ctx||c.stage.ctx;c._isSaved=!1,e.restore()}return d}},{key:"isMouseOn",value:function a(c){var d=this,a=h(Object.getPrototypeOf(b.prototype),"isMouseOn",this).call(this,c);return!a&&d.graphics&&d.graphics instanceof n.default&&(a=d.graphics.isMouseOn&&d.graphics.isMouseOn(c)),a}},{key:"width",get:function(){var a=this,c=h(Object.getPrototypeOf(b.prototype),"getBounds",this).call(this),d=null;return a.graphics instanceof n.default&&(d=a.graphics.getBounds()),d&&(c.sv.x=c.sv.x<d.sv.x?c.sv.x:d.sv.x,c.ev.x=c.ev.x>d.ev.x?c.ev.x:d.ev.x),Math.abs(c.ev.x-c.sv.x)}},{key:"height",get:function(){var a=this,c=h(Object.getPrototypeOf(b.prototype),"getBounds",this).call(this),d=null;return a.graphics instanceof n.default&&(d=a.graphics.getBounds()),d&&(c.sv.y=c.sv.y<d.sv.y?c.sv.y:d.sv.y,c.ev.y=c.ev.y>d.ev.y?c.ev.y:d.ev.y),Math.abs(c.ev.y-c.sv.y)}}]),b}(j.default);c.default=o,b.exports=c.default},{"./DisplayObject":4,"./DisplayObjectContainer":5,"./Shape":18}],20:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./DisplayObjectContainer"),j=d(i),k=a("./Util"),l=d(k),m=a("./EventDispatcher"),n=d(m),o=a("./Timer"),p=d(o),q=a("./KeyboardEvent"),r=d(q),s=a("./MouseEvent"),t=d(s),u=a("./Sprite"),v=d(u),w=a("./Vec3"),x=d(w),y=function(a){function b(a,c){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="Stage",this.domElem=document.getElementById(a),this._width=parseFloat(this.domElem.getAttribute("width"),10),this._height=parseFloat(this.domElem.getAttribute("height"),10),this.ctx=this.domElem.getContext("2d");var d=this._getOffset();this.x=d.left,this.y=d.top,this._initialize(),"function"==typeof c&&c(this)}return f(b,a),g(b,[{key:"_initialize",value:function(){var a=this;l.default.each(t.default.nameList,function(b){b=t.default[b],n.default.prototype.on.call(a,a.domElem,b,function(b){a._mouseEvent(b)},!1)}),l.default.each(r.default.nameList,function(b){b=r.default[b],n.default.prototype.on.call(a,document,b,function(b){a._keyboardEvent(b)})},!1),a.show(a._matrix),p.default.add(a),p.default.start()}},{key:"show",value:function(a){var c=this;c.ctx.clearRect(0,0,c._width,c._height),h(Object.getPrototypeOf(b.prototype),"show",this).call(this,a)}},{key:"dispose",value:function(){}},{key:"tick",value:function(){this.show(this._matrix)}},{key:"addChild",value:function(a){var c=this,d=function(a){a.stage=c,a instanceof v.default&&a.graphics&&(a.graphics.stage=c,a.graphics.parent=a,a.graphics.objectIndex=a.objectIndex+".0")};if(d(a),a.getAllChild){var e=a.getAllChild();l.default.each(e,function(a){d(a)})}h(Object.getPrototypeOf(b.prototype),"addChild",this).call(this,a)}},{key:"isMouseOn",value:function(){return!0}},{key:"getBounds",value:function(){return{sv:new x.default(0,0,1),ev:new x.default(this.width,this.height,1)}}},{key:"_mouseEvent",value:function(a){var b=this,c={x:0,y:0};null!==a.clientX&&(c.x=a.pageX-b.x,c.y=a.pageY-b.y),a.cord=c;var d=a.type,e=t.default.getTopItem(d,c);e&&e.trigger(d,a)}},{key:"_keyboardEvent",value:function(a){var b=a.type,c=r.default.getItems(b);c.length&&l.default.each(c,function(c){c.trigger(b,a)})}},{key:"_getOffset",value:function(){return{top:0,left:0}}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),b}(j.default);c.default=y,b.exports=c.default},{"./DisplayObjectContainer":5,"./EventDispatcher":8,"./KeyboardEvent":12,"./MouseEvent":17,"./Sprite":19,"./Timer":23,"./Util":27,"./Vec3":28}],21:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function a(b,c,d,e){var f=Object.getOwnPropertyDescriptor(b,c);if(void 0===f){var g=Object.getPrototypeOf(b);null!==g&&a(g,c,d,e)}else if("value"in f&&f.writable)f.value=d;else{var h=f.set;void 0!==h&&h.call(e,d)}return d},i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},j=a("./InteractiveObject"),k=d(j),l=a("./TextFieldEvent"),m=d(l),n=a("./MouseEvent"),o=d(n),p=a("./EventDispatcher"),q=d(p),r=a("./Event"),s=d(r),t=function(a){function b(){e(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="TextField",this._input=this._createInputElement(),this._color=0,this._textAlign="left",this._text="",this._textBaseline="middle",this._font="arial",this._size=12,this._wordWrap=!1,this._fontHeight=0,this._areas=[],this._bindEvents()}return f(b,a),g(b,[{key:"show",value:function(a){i(Object.getPrototypeOf(b.prototype),"show",this).call(this,a)}},{key:"isMouseOn",value:function(){}},{key:"getBounds",value:function(){}},{key:"dispose",value:function(){}},{key:"_bindEvents",value:function(){var a=this,b=q.default.prototype.on;a.on(o.default.CLICK,function(){}),b.call(a._input,m.default.BLUR,function(){},!1),b.call(a._input,m.default.CHANGE,function(){},!1),a.on(s.default.ADD_TO_STAGE,function(){a._compute()})}},{key:"_createInputElement",value:function(){var a=this,b=document.createElement("INPUT");return b.style.font=a.size+"px "+a.font,b.style.width="0px",b.style.height="0px",b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.display="none",document.body.appendChild(b),b}},{key:"_compute",value:function(){var a=this;a._fontHeight=a._computeFontHeight(),a._wordWrap?a._areas=a._computeAreas():a._areas=[]}},{key:"_computeFontHeight",value:function(){var a=this,b=document.createElement("span");b.innerHTML="Hg",b.style.font=a.size+"px "+a.font;var c=document.createElement("div");c.style.display="inline-block",c.style.width="1px",c.style.height="0px";var d=document.createElement("div");d.appendChild(b),d.appendChild(c),document.body.appendChild(d);var e=-1;try{c.style.verticalAlign="bottom",e=c.offsetTop-b.offsetTop}finally{document.body.removeChild(d)}return e}},{key:"_computeAreas",value:function(){for(var a=this,b={},c=a.ctx||a.stage.ctx,d=a._text,e=a._width,f=0,g=[],h=0,i=d.length;h<i;h+=1){var j=d.charAt(h),k=0;"\n"!==j?(k=b[j]?b[j]:c.measureText(j).width,f+=k,f>=e&&(f=0,g.push(h))):(f=0,g.push(h))}return g}},{key:"color",get:function(){return this._color},set:function(a){var b=this;b._color=a,b._input.style.color=a}},{key:"textAlign",get:function(){return this._textAlign},set:function(a){var b=this;b._textAlign=a,b._input.style.textAlign=a}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){var b=this;b._textBaseline=a,b._input.style.verticalAlign=a}},{key:"size",get:function(){return this._size},set:function(a){var b=this;b._size=a,b._input.style.font=a+"px "+b._font,b._addedToStage&&b._compute()}},{key:"font",get:function(){return this._font},set:function(a){var b=this;b._font=a,b._input.style.font=b.size+"px "+a,b._addedToStage&&b._compute()}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){var b=this;b._wordWrap=a,b._addedToStage&&b._compute()}},{key:"text",get:function(){return this._text},set:function(a){var b=this;b._text=a.replace("\r\n","\n"),b._addedToStage&&b._compute()}},{key:"width",set:function(a){this._width=a,this._input.style.width=a+"px"}},{key:"height",set:function(a){this._height=a,this._input.style.height=a+"px"}},{key:"rotate",set:function(a){h(Object.getPrototypeOf(b.prototype),"rotate",a,this),a%360!==0&&(this.visible=!1)}}]),b}(k.default);c.default=t,b.exports=c.default},{"./Event":7,"./EventDispatcher":8,"./InteractiveObject":11,"./MouseEvent":17,"./TextFieldEvent":22}],22:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default={FOCUS:"focus",BLUR:"blur",CHANGE:"change"},b.exports=c.default},{}],23:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./Util"),h=d(g),i=function(){function a(){e(this,a)}return f(a,null,[{key:"add",value:function(a){var b=this,c=h.default.inArray(a,b._list,function(a,b){return a.aIndex===b.aIndex});return c===-1&&b._list.push(a),b}},{key:"remove",value:function(a){var b=this,c=h.default.inArray(a,b._list,function(a,b){return a.aIndex===b.aIndex});return c!==-1&&b._list.splice(c,1),b}},{key:"start",value:function(){var a=this;return a.isStoped=!1,a._isInit||a._init(),a._raf(),a}},{key:"stop",value:function(){var a=this;return a.isStoped=!0,a._isInit||a._init(),a._craf(),a}},{key:"_init",value:function(){for(var a=this,b=0,c=["webkit","moz"],d=window.requestAnimationFrame,e=window.cancelAnimationFrame,f=c.length-1;f>=0&&!d;)d=window[c[f]+"RequestAnimationFrame"],e=window[c[f]+"CancelAnimationFrame"],f-=1;d&&e||(d=function(a){var c=+new Date,d=Math.max(b+16,c);return setTimeout(function(){a(b=d)},d-c)},e=clearTimeout),a._requestAnimationFrame=d,a._cancelAnimationFrame=e,a._isInit=!0}},{key:"_raf",value:function(){this._timer=this._requestAnimationFrame.call(window,this._callback.bind(this))}},{key:"_craf",value:function(){this._cancelAnimationFrame.call(window,this._timer)}},{key:"_callback",value:function(){for(var a=this,b=a._list,c=0,d=b.length;c<d;c+=1){var e=b[c];e.tick&&e.tick()}a._raf()}},{key:"isStoped",get:function(){return this._isStoped},set:function(a){this._isStoped=a}},{key:"_list",get:function(){return this._list_=this._list_||[],this._list_},set:function(a){this._list_=a}},{key:"_isInit",get:function(){return this._isInit_||!1},set:function(a){this._isInit_=a}},{key:"_timer",get:function(){return this._timer_},set:function(a){this._timer_=a}},{key:"_requestAnimationFrame",get:function(){return this._requestAnimationFrame_},set:function(a){this._requestAnimationFrame_=a}},{key:"_cancelAnimationFrame",get:function(){return this._cancelAnimationFrame_},set:function(a){this._cancelAnimationFrame_=a}}]),a}();c.default=i,b.exports=c.default},{"./Util":27}],24:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./EventDispatcher"),j=d(i),k=a("./Util"),l=d(k),m=a("./URLLoaderEvent"),n=d(m),o=function(a){function b(a){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this._request=a,this._close=!1,this._loading=!1,this._queue=[]}return f(b,a),g(b,[{key:"on",value:function(a,c){h(Object.getPrototypeOf(b.prototype),"on",this).apply(this,[this,a,c,!1])}},{key:"off",value:function(a,c){h(Object.getPrototypeOf(b.prototype),"off",this).apply(this,[this,a,c])}},{key:"load",value:function(a){var b=this,c=!1,d=[];if(a=a||b._request,a.method=a.method.toUpperCase(),null===a)return console.error("URLLoader need URLRequest instance"),c;if(b._loading)return b._queue.push(a),c;try{c=new XMLHttpRequest}catch(e){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){c=!1}}}if(c===!1)return console.error("xhr cant be init"),c;b._xhr=c;var g=a.url,h=a.data,i=l.default.keys(a.data);i.length&&(d=l.default.map(a.data,function(a,b){return b+"="+encodeURIComponent(a)}),h=d.join("&")),"GET"===a.method&&(i.length&&(g+="?"+h),h=null),c.open(a.method,g,!0),c.onreadystatechange=function(){b._onreadystatechange()},a.contentType&&(a.requestHeaders["Content-Type"]=a.contentType),l.default.each(a.requestHeaders,function(a,b){c.setRequestHeader(b,a)}),c.send(h),b._loading=!0}},{key:"close",value:function(){this._close=!0}},{key:"_onreadystatechange",value:function(){var a=this,b=a._xhr,c="";4===b.readyState&&(a._close||(c=200===b.status?n.default.COMPLETE:n.default.ERROR,a.trigger(a,c,{data:b.responseText,status:b.status})),a._close=!1,a._loading=!1,a._next())}},{key:"_next",value:function(){var a=this;a._queue.length&&a.load(a._queue.shift());
}}]),b}(j.default);c.default=o,b.exports=c.default},{"./EventDispatcher":8,"./URLLoaderEvent":25,"./Util":27}],25:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default={COMPLETE:"complete",ERROR:"error"},b.exports=c.default},{}],26:[function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function a(b){d(this,a),this.url=b||"",this.data={},this.method="GET",this.requestHeaders={},this.contentType=""};c.default=e,b.exports=c.default},{}],27:[function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"isType",value:function(a,b){return Object.prototype.toString.call(a)==="[object "+b+"]"}},{key:"each",value:function(a,b){var c=this;if(c.isType(a,"Array")&&Array.prototype.forEach)Array.prototype.forEach.call(a,b);else if(c.isType(a,"Array"))for(var d=0,e=a.length;d<e;d+=1)b(a[d],d,a);else if(c.isType(a,"Object"))for(var f in a)a.hasOwnProperty(f)&&b(a[f],f,a)}},{key:"filter",value:function(a,b){var c=this;if(c.isType(a,"Array")&&Array.prototype.filter)return Array.prototype.filter.call(a,b);var d=function(){var d=[];return c.each(a,function(a,c,e){b.call(e,a,c,e)===!0&&d.push(a)}),{v:d}}();return"object"==typeof d?d.v:void 0}},{key:"map",value:function(a,b){var c=this;if(c.isType(a,"Array")&&Array.prototype.map)return Array.prototype.map.call(a,b);var d=function(){var d=[];return c.each(a,function(a,c,e){d.push(b.call(e,a,c,e))}),{v:d}}();return"object"==typeof d?d.v:void 0}},{key:"some",value:function(a,b){var c=this;if(c.isType(a,"Array")&&Array.prototype.some)return Array.prototype.some.call(a,b);var d=!1;return c.each(a,function(a,c,e){b.call(e,a,c,e)===!0&&(d=!0)}),d}},{key:"every",value:function(a,b){var c=this;if(c.isType(a,"Array")&&Array.prototype.some)return Array.prototype.some.call(a,b);var d=!0;return c.each(a,function(a,c,e){b.call(e,a,c,e)||(d=!1)}),d}},{key:"deg2rad",value:function(a){return a*Math.PI/180}},{key:"rad2deg",value:function(a){return a/Math.PI*180}},{key:"keys",value:function a(b){var a=[];if(b){if(Object.keys)return Object.keys(b);for(var c in b)b.hasOwnProperty(c)&&a.push(c)}return a}},{key:"inArray",value:function(a,b,c){for(var d=0,e=b.length;d<e;d+=1)if("function"==typeof c){if(c.call(a,a,b[d],d,b))return d}else if(b[d]===a)return d;return-1}},{key:"extends",value:function(a){var b=this;if(!b.isType(a,"Object"))return a;for(var c=1,d=arguments.length;c<d;c+=1){var e=arguments[c];for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f])}return a}},{key:"toArray",value:function(a){return a&&a.length&&a[0]?Array.prototype.slice.call(a,0,a.length):[]}},{key:"clone",value:function(a){var b=this;return"object"!=typeof a?a:b.isType(a,"Array")?Array.prototype.slice.call(a):b.extends({},a)}},{key:"pip",value:function(a,b){for(var c=!1,d=a[0],e=a[1],f=0,g=b.length-1;f<b.length;g=f,f+=1){var h=b[f][0],i=b[f][1],j=b[g][0],k=b[g][1],l=i>e!=k>e&&d<(j-h)*(e-i)/(k-i)+h;l&&(c=!c)}return c}}]),a}();c.default=f,b.exports=c.default},{}],28:[function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c,e){d(this,a),this.x=b||0,this.y=c||0,this.z=e||0}return e(a,[{key:"distance",value:function(){var a=this.x,b=this.y,c=this.z;return Math.sqrt(a*a+b*b+c*c)}},{key:"multi",value:function(b){if(b instanceof a){var c=b.x,d=b.y,e=b.z;return this.x*c+this.y*d+this.z*e}return this.x*=b,this.y*=b,this.z*=b,this}},{key:"divi",value:function(b){if(b instanceof a){var c=b.x,d=b.y,e=b.z;return this.x/c+this.y/d+this.z/e}return this.x/=b,this.y/=b,this.z/=b,this}},{key:"add",value:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this}},{key:"sub",value:function(b){var c=a.clone(b);return c.multi(-1),this.add(c),this}},{key:"multiMatrix3",value:function(a){var b=a.getMatrix(),c=this.x,d=this.y,e=this.z;return this.x=c*b[0]+d*b[3]+e*b[6],this.y=c*b[1]+d*b[4]+e*b[7],this.z=c*b[2]+d*b[5]+e*b[8],this}}],[{key:"zero",value:function(){return new a(0,0,0)}},{key:"clone",value:function(b){return new a(b.x,b.y,b.z)}},{key:"angle",value:function(b,c){var d=a.clone(b),e=a.clone(c),f=d.multi(e)/(b.distance()*c.distance());return Math.acos(f)}},{key:"equal",value:function(a,b){return a.x===b.x&&a.y===b.y&&a.z===b.z}},{key:"crossProduct",value:function(b,c){return new a(b.y*c.z-b.z*c.y,b.z*c.x-b.x*c.z,b.x*c.y-b.y*c.x)}},{key:"proj",value:function(b,c){var d=a.clone(c),e=d.distance(),f=d.multi(a.zero().add(b).multi(d)/(e*e));return b.sub(f)}},{key:"norm",value:function(b){var c=a.clone(b),d=c.distance();if(d)return c.multi(1/d);throw new Error("zero vec3 cant be norm")}}]),a}();c.default=f,b.exports=c.default},{}],Moco:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Vec3"),f=d(e),g=a("./Matrix3"),h=d(g),i=a("./Util"),j=d(i),k=a("./Timer"),l=d(k),m=a("./Event"),n=d(m),o=a("./InteractiveEvent"),p=d(o),q=a("./MouseEvent"),r=d(q),s=a("./KeyboardEvent"),t=d(s),u=a("./EventDispatcher"),v=d(u),w=a("./DisplayObject"),x=d(w),y=a("./InteractiveObject"),z=d(y),A=a("./DisplayObjectContainer"),B=d(A),C=a("./Stage"),D=d(C),E=a("./Sprite"),F=d(E),G=a("./Shape"),H=d(G),I=a("./LoaderEvent"),J=d(I),K=a("./Loader"),L=d(K),M=a("./Bitmap"),N=d(M),O=a("./BitmapData"),P=d(O),Q=a("./URLLoaderEvent"),R=d(Q),S=a("./URLLoader"),T=d(S),U=a("./URLRequest"),V=d(U),W=a("./TextField"),X=d(W),Y=a("./Label"),Z=d(Y),$=a("./Easing"),_=d($),aa=a("./Animate"),ba=d(aa);c.default={Vec3:f.default,Matrix3:h.default,Util:j.default,Timer:l.default,Event:n.default,InteractiveEvent:p.default,MouseEvent:r.default,KeyboardEvent:t.default,EventDispatcher:v.default,DisplayObject:x.default,InteractiveObject:z.default,DisplayObjectContainer:B.default,Stage:D.default,Sprite:F.default,Shape:H.default,LoaderEvent:J.default,Loader:L.default,Bitmap:N.default,BitmapData:P.default,URLLoaderEvent:R.default,URLLoader:T.default,URLRequest:V.default,TextField:X.default,Label:Z.default,Easing:_.default,Animate:ba.default},b.exports=c.default},{"./Animate":1,"./Bitmap":2,"./BitmapData":3,"./DisplayObject":4,"./DisplayObjectContainer":5,"./Easing":6,"./Event":7,"./EventDispatcher":8,"./InteractiveEvent":10,"./InteractiveObject":11,"./KeyboardEvent":12,"./Label":13,"./Loader":14,"./LoaderEvent":15,"./Matrix3":16,"./MouseEvent":17,"./Shape":18,"./Sprite":19,"./Stage":20,"./TextField":21,"./Timer":23,"./URLLoader":24,"./URLLoaderEvent":25,"./URLRequest":26,"./Util":27,"./Vec3":28}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,"Moco",17,18,19,20,21,22,23,24,25,26,27,28]);