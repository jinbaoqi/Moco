<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
    <script src="../dist/Moco.js"></script>
</head>
<body>
<div id="wrap1" style="position:absolute;top:0;left:0;background:red;width:1000px;height:1000px;overflow: hidden;">
    <div id="wrap2" style="position:absolute;top:0;left:0;background:red;width:400px;height:300px;overflow:hidden;">
        <canvas id="canvas" width="800" height="600"></canvas>
    </div>
</div>
<script>
    var stage = new Moco.Stage("canvas",function(){
        console.log("start!");
    });

    /*var shape1 = new Moco.Shape();
    shape1.x = 100;
    shape1.y = 100;
    shape1.rotate = -135;
    shape1.scaleX = 0.5;
    shape1.scaleY = 0.5;
    shape1.drawRect(1,"#0000ff",[0,0,100,100],true,"#00ff00");
    stage.addChild(shape1);

    var shape2 = new Moco.Shape();
    shape2.beginPath();
    shape2.lineWidth(5);
    shape2.strokeStyle("#00ff00");
    shape2.fillStyle("#0000ff");
    shape2.rect(100,100,100,100);
    shape2.fill();
    stage.addChild(shape2);
    shape2.closePath();

    var shape3 = new Moco.Shape();
    shape3.beginPath();
    shape3.lineWidth(5);
    shape3.strokeStyle("#00ff00");
    shape3.fillStyle("#00ff00");
    shape3.arc(150,150,10,0,2*Math.PI,true);
    shape3.fill();
    shape3.closePath();
    stage.addChild(shape3);

    var shape4 = new Moco.Shape();
    shape4.beginPath();
    shape4.lineWidth(5);
    shape4.strokeStyle("#ffff00");
    shape4.moveTo(100,100);
    shape4.lineTo(150,150);
    shape4.lineTo(100,150);
    shape4.stroke();
    shape4.closePath();
    stage.addChild(shape4);*/
    var shape5 = new Moco.Shape();
    //sprite.rotate = 30;
    //shape5.x = shape5.y = 50;
    shape5.rotate = 10;
    shape5.scaleX = shape5.scaleY = 0.5;
    stage.addChild(shape5);

    var shape6 = new Moco.Shape();
    stage.addChild(shape6);

    var i = 0;
    var j = i+1;
    var limit = 4+i;
    var timer = setInterval(function(){
        shape5.clear();
        var arcArgs = [50,50,25,(1/4)*Math.PI,(1/3+j*1/2)*Math.PI];
        shape5.drawArc(1,"#0f0f0f",arcArgs,true,"#f0f0f0");

        console.log(shape5.width,shape5.height);
        var mat = shape5._computeArcMinRect.apply(shape5,arcArgs);
         for(var key in mat){
            mat[key].multiMatrix3(shape5._matrix);
        }
        shape6.clear();
        shape6.drawVertices(1,"#000",[
            [mat.s1v.x,mat.s1v.y],
            [mat.s2v.x,mat.s2v.y],
            [mat.e2v.x,mat.e2v.y],
            [mat.e1v.x,mat.e1v.y]
        ]);
        if(j >= limit){
           clearInterval(timer);
        }

        j++;
    },1000);

   /*var shape6 = new Moco.Shape();
    shape6.beginPath();
    shape6.lineStyle(1,"#ffffff",0.6);
    shape6.moveTo(0,0);
    shape6.lineTo(100,100);
    shape6.lineTo(0,100);
    shape6.stroke();
    shape6.closePath();
    stage.addChild(shape6);

    var shape7 = new Moco.Shape();
    shape7.drawLine(1,"#000",[0,0,10,50]);
    shape7.drawLine(1,"#000",[10,50,50,50]);
    shape7.drawLine(1,"#000",[50,50,0,0]);
    stage.addChild(shape7);

    var shape8 = new Moco.Shape();
    shape8.drawVertices(1,"#ffbbff",[[0,0],[20,50],[50,100]]);
    stage.addChild(shape8);*/
</script>
</body>
</html>